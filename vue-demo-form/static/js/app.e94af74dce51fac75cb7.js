webpackJsonp([1],{NHnr:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r("/5sW"),a=r("TXmL"),s=r("ESwS"),o=r.n(s),n=r("fZjL"),l=r.n(n),m=r("BO1k"),d=r.n(m),f=r("+cKO"),c=r("mtWM"),u=r.n(c),v={name:"app-form",data:function(){return{isSubmitted:!1,isError:!1,errorHeader:"error.invalidFields",errors:[],types:this.getTypes(),submitting:!1,form:{firstName:"",lastName:"",email:"",terms:!1,type:null,additionalInfo:""}}},methods:{submit:function(){this.$v.$touch(),this.$v.$error?this.validationError():this.sendFormData()},enableSubmitLoader:function(){this.submitting=!0},disableSubmitLoader:function(){this.submitting=!1},sendFormData:function(){var e=this;this.enableSubmitLoader(),u.a.post(i.a.config.formApiUrl,this.form).then(function(t){e.submitSuccess(t),e.disableSubmitLoader()}).catch(function(t){e.submitError(t),e.disableSubmitLoader()})},submitSuccess:function(e){e.data.success?(this.isSubmitted=!0,this.isError=!1):(this.errorHeader="error.invalidFields",this.errors=e.data.errors,this.isError=!0)},submitError:function(e){this.errorHeader="error.general",this.errors=[{field:null,message:"error.generalMessage"}],this.isError=!0},validationError:function(){this.errorHeader="error.invalidFields",this.errors=this.getErrors(),this.isError=!0},isErrorField:function(e){return!(!this.getValidationField(e)||!this.getValidationField(e).$error)||this.errors.some(function(t){return t.field===e})},getErrors:function(){var e=[],t=!0,r=!1,i=void 0;try{for(var a,s=d()(l()(this.form));!(t=(a=s.next()).done);t=!0){var o=a.value;this.getValidationField(o)&&this.getValidationField(o).$error&&e.push({field:o,message:null})}}catch(e){r=!0,i=e}finally{try{!t&&s.return&&s.return()}finally{if(r)throw i}}return e},getFieldClasses:function(e){return{"is-invalid":this.isErrorField(e)}},getCharactersLeft:function(e){return this.getValidationField(e)?this.getValidationField(e).$params.maxLength.max-this.form[e].length:0},getTypes:function(){return[{value:"free",label:"Free trial subscription"},{value:"starter",label:"Starter subscription (50 € / month)"},{value:"enterprise",label:"Enterprise subscription (250 € / month)"}]},getValidationField:function(e){return this.$v.form[e]},onFieldBlur:function(e){this.getValidationField(e)&&(this.getValidationField(e).$touch(),this.getValidationField(e).$error?this.errors.some(function(t){return t.field===e})||this.errors.push({field:e,message:null}):this.errors=this.errors.filter(function(t){return t.field!==e}))},reload:function(){window.location=""}},validations:{form:{email:{required:f.required,email:f.email},firstName:{required:f.required},lastName:{required:f.required},type:{required:f.required},terms:{required:f.required},additionalInfo:{maxLength:Object(f.maxLength)(1e3)}}},watch:{errors:function(){this.isError=this.errors.length>0}}},p={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.isSubmitted?r("div",[r("div",{staticClass:"alert alert-success"},[r("strong",[e._v(e._s(e.$t("form.submitted")))])]),e._v(" "),r("div",{staticClass:"alert alert-info"},[r("p",[r("strong",[e._v(e._s(e.$t("form.sentInfo")))])]),e._v(" "),r("pre",[e._v("          "+e._s(e.form)+"\n      ")])]),e._v(" "),r("p",{staticClass:"text-center"},[r("a",{staticClass:"btn btn-secondary",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.reload()}}},[e._v(e._s(e.$t("form.return")))])])]):r("form",{attrs:{novalidate:""},on:{submit:function(t){return t.preventDefault(),e.submit(t)}}},[r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"firstName"}},[e._v(e._s(e.$t("form.firstName"))+" *")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model.lazy.trim",value:e.form.firstName,expression:"form.firstName",modifiers:{lazy:!0,trim:!0}}],staticClass:"form-control",class:e.getFieldClasses("firstName"),attrs:{type:"text",id:"firstName"},domProps:{value:e.form.firstName},on:{blur:[function(t){e.onFieldBlur("firstName")},function(t){e.$forceUpdate()}],change:function(t){e.$set(e.form,"firstName",t.target.value.trim())}}}),e._v(" "),e.isErrorField("firstName")?r("div",{staticClass:"invalid-feedback"},[e._v(e._s(e.$t("error.fieldRequired",{field:e.$t("form.firstName")})))]):e._e()]),e._v(" "),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"lastName"}},[e._v(e._s(e.$t("form.lastName"))+" *")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model.lazy.trim",value:e.form.lastName,expression:"form.lastName",modifiers:{lazy:!0,trim:!0}}],staticClass:"form-control",class:e.getFieldClasses("lastName"),attrs:{type:"text",id:"lastName"},domProps:{value:e.form.lastName},on:{blur:[function(t){e.onFieldBlur("lastName")},function(t){e.$forceUpdate()}],change:function(t){e.$set(e.form,"lastName",t.target.value.trim())}}}),e._v(" "),e.isErrorField("firstName")?r("div",{staticClass:"invalid-feedback"},[e._v(e._s(e.$t("error.fieldRequired",{field:e.$t("form.lastName")})))]):e._e()]),e._v(" "),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"email"}},[e._v(e._s(e.$t("form.email"))+" *")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model.lazy.trim",value:e.form.email,expression:"form.email",modifiers:{lazy:!0,trim:!0}}],staticClass:"form-control",class:e.getFieldClasses("email"),attrs:{type:"email",id:"email"},domProps:{value:e.form.email},on:{blur:[function(t){e.onFieldBlur("email")},function(t){e.$forceUpdate()}],change:function(t){e.$set(e.form,"email",t.target.value.trim())}}}),e._v(" "),e.isErrorField("email")?r("div",{staticClass:"invalid-feedback"},[e._v(e._s(e.$t("error.fieldInvalid",{field:e.$t("form.email")})))]):e._e()]),e._v(" "),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"type"}},[e._v(e._s(e.$t("form.type"))+" *")]),e._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:e.form.type,expression:"form.type"}],staticClass:"form-control",class:e.getFieldClasses("type"),attrs:{id:"type"},on:{blur:function(t){e.onFieldBlur("type")},change:function(t){var r=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.form,"type",t.target.multiple?r:r[0])}}},e._l(e.types,function(t){return r("option",{key:t.value,domProps:{value:t.value}},[e._v(e._s(t.label))])})),e._v(" "),e.isErrorField("type")?r("div",{staticClass:"invalid-feedback"},[e._v(e._s(e.$t("form.type")))]):e._e()]),e._v(" "),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"additionalInfo"}},[e._v(e._s(e.$t("form.additionalInfo")))]),e._v(" "),r("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:e.form.additionalInfo,expression:"form.additionalInfo",modifiers:{trim:!0}}],staticClass:"form-control",class:e.getFieldClasses("additionalInfo"),attrs:{type:"additionalInfo",id:"additionalInfo",maxlength:e.$v.form.additionalInfo.$params.maxLength.max},domProps:{value:e.form.additionalInfo},on:{blur:[function(t){e.onFieldBlur("additionalInfo")},function(t){e.$forceUpdate()}],input:function(t){t.target.composing||e.$set(e.form,"additionalInfo",t.target.value.trim())}}}),e._v(" "),r("small",{staticClass:"text-muted form-text"},[e._v(e._s(e.$tc("form.charactersLeft",e.getCharactersLeft("additionalInfo"),{charCount:e.getCharactersLeft("additionalInfo")})))]),e._v(" "),e.isErrorField("additionalInfo")?r("div",{staticClass:"invalid-feedback"},[e._v(e._s(e.$t("error.fieldMaxLength",{field:e.$t("form.additionalInfo")})))]):e._e()]),e._v(" "),r("div",{staticClass:"form-group"},[r("div",{staticClass:"form-check"},[r("input",{directives:[{name:"model",rawName:"v-model.lazy.trim",value:e.form.terms,expression:"form.terms",modifiers:{lazy:!0,trim:!0}}],staticClass:"form-check-input",class:e.getFieldClasses("terms"),attrs:{type:"checkbox",id:"terms"},domProps:{checked:Array.isArray(e.form.terms)?e._i(e.form.terms,null)>-1:e.form.terms},on:{change:[function(t){var r=e.form.terms,i=t.target,a=!!i.checked;if(Array.isArray(r)){var s=e._i(r,null);i.checked?s<0&&e.$set(e.form,"terms",r.concat([null])):s>-1&&e.$set(e.form,"terms",r.slice(0,s).concat(r.slice(s+1)))}else e.$set(e.form,"terms",a)},function(t){e.onFieldBlur("terms")}]}}),e._v(" "),r("label",{staticClass:"form-check-label",attrs:{for:"terms"}},[e._v(e._s(e.$t("form.terms"))+" *")])])]),e._v(" "),e.isError?r("div",{staticClass:"alert alert-danger"},[r("p",{staticClass:"mb-0"},[r("strong",[e._v(e._s(e.$t(e.errorHeader)))])]),e._v(" "),e.errors.length>0?r("ul",{staticClass:"mb-0 pl-3"},e._l(e.errors,function(t){return r("li",{key:t.field},[t.field?r("span",[e._v(e._s(e.$t("form."+t.field))),t.message?r("span",[e._v(": "+e._s(e.$t(t.message)))]):e._e()]):t.message?r("span",[e._v(e._s(e.$t(t.message)))]):e._e()])})):e._e()]):e._e(),e._v(" "),r("div",{staticClass:"form-group"},[r("button",{staticClass:"btn btn-primary",attrs:{type:"submit",disabled:e.submitting}},[e.submitting?r("span",[e._v(e._s(e.$t("form.submitting")))]):r("span",[e._v(e._s(e.$t("form.submit")))])])])])])},staticRenderFns:[]};var h={name:"app",data:function(){return{title:"Vue.js Demo Form"}},components:{appForm:r("VU/8")(v,p,!1,function(e){r("zwWL")},"data-v-9cda086a",null).exports}},_={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"container",attrs:{id:"app"}},[t("div",{staticClass:"row justify-content-center"},[t("div",{staticClass:"col-xs-12 col-sm-10 col-md-6"},[t("h1",{staticClass:"text-center"},[this._v(this._s(this.title))]),this._v(" "),t("app-form")],1)])])},staticRenderFns:[]};var g=r("VU/8")(h,_,!1,function(e){r("eksT")},null,null).exports;i.a.use(a.a),i.a.use(o.a),i.a.config.formApiUrl="https://www.mocky.io/v2/5adb5a8c2900002b003e3df1";var b=new a.a({locale:"en",fallbackLocale:"en",messages:{en:{form:{firstName:"First name",lastName:"Last name",email:"Email",terms:"I accept the terms and conditions",type:"Select subscription type",additionalInfo:"Additional info",submitted:"The form is submitted!",sentInfo:"Here is the info you sent:",return:"Return to the form",submit:"Submit",submitting:"Submitting...",charactersLeft:"You have {charCount} character left. | You have {charCount} characters left."},error:{invalidFields:"Following fields have an invalid or a missing value:",general:"An error happened during submit.",generalMessage:"Form sending failed due to technical problems. Try again later.",fieldRequired:"{field} is required.",fieldInvalid:"{field} is invalid or missing.",fieldMaxLength:"{field} maximum characters exceeded."}}}});new i.a({el:"#app",i18n:b,render:function(e){return e(g)}})},eksT:function(e,t){},zwWL:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.e94af74dce51fac75cb7.js.map